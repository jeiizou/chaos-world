# 基础-@规则

在CSS中存在大量以`@`符号开头的规则, 称之为(at-rule, @规则)


at-rule是一个CSS语句, 以`@`开头:

```
@(U+0040 COMMERCIAL AT) + 标识符 + ... {

}
```

## @charset、@import、@namespace

- `@charset`: 指定样式表中使用的字符编码, 必须是样式表中的第一个元素, 且不得有任何其他字符在前.

```css
@charset "UTF-8";
```

如果CSS文件中有任何非ASCII文本, 例如字体名称, 伪元素的content属性值, 选择器中的非ASCII字符, 都需要确保CSS解析器知道如何将字节正确转换为字符.

- `@import`: 用于从其他样式表导入样式规则, 这些规则比如先于其他类型的规则, `@charset`除外.

`@import`有两种语法:

```css
@import 'custom.css';
@import url('landscape.css');
@import url('landscape.css') screen and (orientation:landscape);
```

并且可以在后面定义媒体查询规则.

合理的使用`@import`可以:

1. 合理的控制CSS文件的大小
2. 更好的模块化&复用

使用它的缺点:

1. 影响浏览器的并行下载
2. 可能导致优先级问题, 样式相互覆盖
3. 导致页面闪烁

当页面加载的时候, link标签引入的CSS会被同时加载, 而`@import`引入的CSS将在页面加载完毕后被夹在.

CSS解析引擎在对一个CSS文件进行解析的时候, 如果在文件顶部遇到`@import`规则, 会替换成导入CSS文件的全部样式, 而加载顺序会在其后, 加载完毕以后会放在样式表顶部, 导致样式冲突